{"version":3,"sources":["scripts.js"],"names":["window","onload","mobMenuBtn","document","querySelector","menuList","needParallax","querySelectorAll","needSmooth","needToggleMain","smallScreen","needToggleAlt","altMenu","shop","products","moreInfo","moreInfoOverlay","productsBtn","colorSwitchBtns","imgsOfProducts","imgDetails","orders","ordersForm","ordersList","ordersInput","orderBtnShow","ordersAmount","cart","promocod","promoLabel","orderOverlay","orderDelete","orderSubmit","name","ordersError","surname","modal","overlay","modalCloseBtn","addEventListener","event","preventDefault","classList","toggle","Object","zone","mainAnchorPositions","getPosition","topPos","el","botPos","offsetHeight","offsetTop","shopAnchorPositions","shopAnchors","innerWidth","onscroll","parallax","pageYOffset","documentElement","scrollTop","i","length","remove","scrolled","closest","add","shopZone","smoothScroll","this","getAttribute","index","_toConsumableArray","indexOf","activeImg","activeBtn","fadeIn","fadeOut","atr","previousElementSibling","img","addAndRemoveClass","setAttribute","nextElementSibling","contains","productName","productPrice","innerHTML","productPhoto","replace","productPhotoAlt","productInfo","productNumber","productColor","order","orderName","Array","orderPrice","orderPhotoLink","amountsOfOrders","ordersEmpty","createNewOrderItem","hidden","j","getOrdersValues","nameIndex","priceIndex","orderAmount","photoLinkIndex","value","orderPriceSumm","setTimeout","newItem","appendChild","productPhotoLink","createElement","e","className","newItemHTML","target","elemsToAddClass","classToAdd","elemsToremoveClass","classToRemove","thisOrder","callback","needIter","clearOrders","ordersEl","firstChild","priceSumm","arguments","undefined","amountSumm","toString","discount","active","orderBtnHide","focus","getPromocods","responce","promocodsArr","request","respArr","productImgSrc","push","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","responseText","split","send","imgSrc","concat","parentNode","removeChild","phone","match","formValid","sendData","thanksModalCloseBtn","reset","thanksModalOverlay","ordersInfo","thanksModal","body","amount","price","number","data","JSON","stringify"],"mappings":"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","file":"scripts.js","sourcesContent":["\"use strict\";\r\nwindow.onload = function() {\r\n\tconst mobMenuBtn = document.querySelector(\".main-header--mobile\");\r\n\tconst menuList = document.querySelector(\".main-header--list\");\r\n  const smallScreen = 767;\r\n\r\n  const needParallax = document.querySelectorAll('[data-parallax=\"true\"]');\r\n  const needSmooth = document.querySelectorAll('[data-smooth=\"true\"]');\r\n  const needToggleMain = document.querySelectorAll('[data-toggle-main=\"true\"]');\r\n\r\n  const needToggleAlt = document.querySelectorAll('[data-toggle-alt=\"true\"]');\r\n  const mainAnchors = document.querySelectorAll('[data-anchor-main=\"true\"]');\r\n  const shopAnchors = document.querySelectorAll('[data-anchor-shop=\"true\"]');\r\n  const altMenu = document.querySelector(\".alt-nav\");\r\n  \r\n  const shop = document.querySelector(\"#shop\");\r\n  const products = document.querySelectorAll(\".product\");\r\n  const moreInfo = document.querySelectorAll(\".product--more-info\");\r\n  const moreInfoModal = document.querySelectorAll(\".product--details\");\r\n  const moreInfoOverlay = document.querySelectorAll(\".product--details\");\r\n  const productsBtn = document.querySelectorAll(\".product--buy\");\r\n  const colorSwitchBtns = document.querySelectorAll(\".product--color\");\r\n  const imgsOfProducts = document.querySelectorAll(\".product--img\");\r\n  const imgDetails = document.querySelectorAll(\".details--img\");\r\n\r\n  const orders = document.querySelector(\".orders\");\r\n  const ordersForm = document.querySelector(\"#orders--form\");\r\n  const ordersList = document.querySelector(\".orders--list\");\r\n  const ordersInput = document.querySelectorAll(\".orders--input__required\");\r\n  const orderBtnShow = document.querySelector(\".main-header--orders\");\r\n  const ordersAmount = document.querySelector(\".main-header--amount\");\r\n  const cart = document.querySelector(\".main-header--buy\"); \r\n  const orderBtnHide = document.querySelector(\".orders--close\");\r\n  const orderPriceSumm = document.querySelector(\".price--amount\");\r\n  const promocod = document.querySelector(\"#cod\");\r\n  const promoLabel = document.querySelector(\".orders--label__cod\");\r\n  const orderOverlay = document.querySelector(\".orders--overlay\");\r\n  const orderDelete = document.querySelector(\".order--deletes\");\r\n  const orderSubmit = document.querySelector(\".orders--submit\");\r\n  const ordersEmpty = document.querySelector(\".orders--empty\");\r\n  const ordersError = document.querySelector(\".orders--error\");\r\n  const name = document.querySelector(\"#name\");\r\n  const surname = document.querySelector(\"#surname\");\r\n  const phone = document.querySelector(\"#phone\");\r\n\r\n  const modal = document.querySelectorAll(\".modal\");\r\n  const overlay = document.querySelectorAll(\".overlay\");\r\n  const modalCloseBtn = document.querySelectorAll(\".modal--btn\");\r\n\r\n  const thanksModal = document.querySelector(\".thanks-for-order\");\r\n  const thanksModalCloseBtn = document.querySelector(\".thanks-for-order--btn\");\r\n  const thanksModalOverlay = document.querySelector(\".thanks-for-order--overlay\");\r\n\r\n\r\n  // Мобильное меню\r\n  mobMenuBtn.addEventListener(\"click\", function(event) {\r\n  \tevent.preventDefault();\r\n    menuList.classList.toggle(\"main-header--list__show\");\r\n    menuList.classList.toggle(\"main-header--list__hide\");\r\n  });\r\n\r\n\r\n  // Действия при скролле (паралакс, скрытие/появление меню, переключение активных пунктов меню)\r\n  const shopZone = caclZone(shop);\r\n  const mainAnchorPositions = getPosition(mainAnchors);\r\n  const shopAnchorPositions = getPosition(shopAnchors);\r\n\r\n  function caclZone(el) {\r\n  \tlet zone = new Object;\r\n  \tzone.topPos = el.offsetTop;\r\n  \tzone.botPos = shop.offsetHeight + shop.offsetTop;\r\n  \treturn zone;\r\n  };\r\n\r\n  if(window.innerWidth > smallScreen) {\r\n  \twindow.onscroll = function() {\r\n  \t\tparallax(needParallax, 10);\r\n  \t\tconst scrolled = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n      for (let i = 0; i < needToggleMain.length; i++) {\r\n        needToggleMain[i].closest(\".main-header--item\").classList.remove(\"main-header--item__active\");\r\n      }\r\n\r\n      for (let i = 0; i < mainAnchorPositions.length; i++) {\r\n        if (scrolled >= mainAnchorPositions[i] - 200 && scrolled < mainAnchorPositions[i+1] - 200) {\r\n          needToggleMain[i].closest(\".main-header--item\").classList.add(\"main-header--item__active\");\r\n        }\r\n        else if (scrolled >= mainAnchorPositions[mainAnchorPositions.length - 1] - 200) {\r\n          needToggleMain[mainAnchorPositions.length - 1].closest(\".main-header--item\").classList.add(\"main-header--item__active\");\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < shopAnchorPositions.length; i++) {\r\n        if (scrolled >= shopAnchorPositions[i] - 400 && scrolled < shopAnchorPositions[i+1] - 400) {\r\n          needToggleAlt[i].classList.add(\"alt-nav--item__active\");\r\n        }\r\n        else if (scrolled >= shopAnchorPositions[shopAnchorPositions.length - 1] - 400) {\r\n          needToggleAlt[shopAnchorPositions.length - 1].classList.add(\"alt-nav--item__active\");\r\n        }\r\n      }\r\n\r\n      if(scrolled >=(shopZone.topPos - 200) && scrolled < shopZone.botPos - 400) {\r\n        altMenu.classList.add(\"alt-nav__visible\");\r\n        for (let i = 0; i < needToggleAlt.length; i++) {\r\n          needToggleAlt[i].classList.remove(\"alt-nav--item__active\");\r\n        }\r\n      }\r\n      else if (scrolled <(shopZone.topPos - 200) || scrolled >= shopZone.botPos - 400) {\r\n       altMenu.classList.remove(\"alt-nav__visible\");\r\n     }\r\n   }\r\n };\r\n\r\n\r\n  // Плавная прокрутка \r\n  for (let i = 0; i < needSmooth.length; i++) {\r\n  \tneedSmooth[i].addEventListener(\"click\", function(event) {\r\n      event.preventDefault();\r\n      const el = document.querySelector(this.getAttribute(\"href\"));\r\n      smoothScroll(el, 10, 60);\r\n    });\r\n  }\r\n\r\n\r\n\t// Переключение цветов товара\r\n  for (let i = 0; i < colorSwitchBtns.length; i++) {\r\n    colorSwitchBtns[i].addEventListener(\"click\", function(event) {\r\n      event.preventDefault();\r\n      const index = [...colorSwitchBtns].indexOf(this); // Прототипом colorSwitchBtns является NodeList, у которого нету метода indexOf, поэтому из NodeList делается Array \r\n      const activeImg = imgsOfProducts[index].closest(\".product--more-info__img\").querySelectorAll(\".product--img__active\");\r\n      const activeBtn = (colorSwitchBtns[index]).closest(\".product--colors\").querySelectorAll(\".product--color__active\");\r\n\r\n      for (let i = 0; i < activeBtn.length; i++) {\r\n        activeBtn[i].classList.remove(\"product--color__active\");\r\n      }\r\n\r\n      colorSwitchBtns[index].classList.add(\"product--color__active\"); // Смена актывных кнопок\r\n\r\n      if (imgsOfProducts[index].closest(\".product--more-info__img\").querySelectorAll(\".product--img\").length > 1) { // Не анимировать, если только одно фото\r\n        for (let i = 0; i < activeImg.length; i++) {\r\n          fadeOut(activeImg[i], \"product--img__active\");\r\n        }\r\n        fadeIn(imgsOfProducts[index], \"product--img__active\");\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  // Открытие модального окно с подробной информацией о товаре \r\n  for (let i = 0; i < moreInfo.length; i++) {\r\n    moreInfo[i].addEventListener(\"click\", function(event) {\r\n      const atr = this.getAttribute(\"href\");\r\n      const modal = document.querySelector(atr);\r\n      const overlay = modal.previousElementSibling;\r\n      const img = this.closest(\".product\").querySelector(\".product--img__active\");\r\n      const index = [...imgsOfProducts].indexOf(img); // Прототипом imgsOfProducts является NodeList, у которого нету метода indexOf, поэтому из NodeList делается Array\r\n      \r\n      addAndRemoveClass([modal, overlay], [\"modal__show\", \"overlay__show\"], [modal, overlay], [\"modal__hide\", \"overlay__hide\"]);\r\n      modal.querySelector('[tabindex=\"-1\"]').setAttribute(\"tabindex\",\"1\");\r\n\r\n      for (let i = 0; i < imgDetails.length; i++) {\r\n        imgDetails[i].classList.remove(\"details--img__active\");\r\n      }\r\n\r\n      imgDetails[index].classList.add(\"details--img__active\");\r\n    });\r\n  }\r\n\r\n\r\n  // Скрытие модальных окон\r\n  for (let i = 0; i < overlay.length; i++) {\r\n    overlay[i].addEventListener(\"click\", function(event) {\r\n      event.preventDefault();\r\n      const modal = this.nextElementSibling;\r\n\r\n      if (modal.classList.contains(\"modal\")) {\r\n        addAndRemoveClass([modal, this], [\"modal__hide\", \"overlay__hide\"], [modal, this], [\"modal__show\", \"overlay__show\"]);\r\n        modal.querySelector('[tabindex=\"1\"]').setAttribute(\"tabindex\",\"-1\");\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  for (let i = 0; i < modalCloseBtn.length; i++) {\r\n    modalCloseBtn[i].addEventListener(\"click\", function(event) {\r\n      event.preventDefault();\r\n      const modal = this.closest(\".modal\");\r\n      const overlay = modal.previousElementSibling;\r\n\r\n      if(modal)\r\n        addAndRemoveClass([modal, overlay], [\"modal__hide\", \"overlay__hide\"], [modal, overlay], [\"modal__show\", \"overlay__show\"]);\r\n      modal.querySelector('[tabindex=\"1\"]').setAttribute(\"tabindex\",\"-1\");\r\n    });\r\n  }\r\n\r\n\r\n  // Добавление товаров в корзину \r\n  for (let i = 0; i < productsBtn.length; i++) {\r\n    productsBtn[i].addEventListener(\"click\", function(event) {\r\n      event.preventDefault(); \r\n      const productName = this.closest(\".shop--item\").querySelector(\".product--about\").innerHTML;\r\n      const productPrice = this.closest(\".shop--item\").querySelector(\".product--price\").innerHTML.replace(/\\D+/g,\"\"); //Оставить только цифры из строки\r\n      const productPhoto = this.closest(\".shop--item\").querySelector(\".product--img__active\");\r\n      const productPhotoLink = this.closest(\".shop--item\").querySelector(\".product--img__active\").getAttribute(\"src\");\r\n      const productPhotoAlt = this.closest(\".shop--item\").querySelector(\".product--img__active\").getAttribute(\"alt\");\r\n      const productInfo = this.closest(\".shop--item\").querySelector(\".product--more-info\").getAttribute(\"href\");\r\n      const productNumber = productInfo.replace(/\\D+/g,\"\");\r\n      const productColor = this.closest(\".shop--item\").querySelector(\".product--color__active\").innerHTML;\r\n      const order = document.querySelectorAll(\".order\");\r\n      const orderName = new Array;\r\n      const orderPrice = new Array;\r\n      const orderPhotoLink = new Array;\r\n      const amountsOfOrders = new Array; \r\n\r\n      ordersEmpty.hidden = true;\r\n      cart.classList.add(\"main-header--buy__rotate\");\r\n      \r\n      if (!order.length) { // Создать первый заказ\r\n        createNewOrderItem();\r\n        orderPriceSumm.innerHTML = productPrice;\r\n        setTimeout(function() {\r\n          ordersAmount.innerHTML = 1;\r\n        }, 500)\r\n      }\r\n      else {\r\n        for (let j = 0; j < order.length; j++) {\r\n          orderName[j] = order[j].querySelector(\".order--name\").innerHTML;\r\n          orderPrice[j] = order[j].querySelector(\".order--price\").innerHTML.replace(/\\D+/g,\"\");\r\n          orderPhotoLink[j] = order[j].querySelector(\".order--img\").getAttribute(\"src\"); \r\n          amountsOfOrders[j] = order[j].querySelector(\".order--amount\").getAttribute(\"value\");// Массивы названий, цен, ссылок и количеств товаров, которые в корзине\r\n        }\r\n\r\n        getOrdersValues(true, true, true, 0);\r\n        \r\n        // Увеличить количество товаров, если его добавили в корзину больше одного раза\r\n        const nameIndex = orderName.indexOf(productName);\r\n        const priceIndex = orderPrice.indexOf(productPrice);\r\n        const photoLinkIndex = orderPhotoLink.indexOf(productPhotoLink); // Проверка совпадения параметров добавляемого товара с параметрами товаров, которые уже в корзине \r\n        \r\n        if(nameIndex !== -1 && priceIndex !== -1 && photoLinkIndex !== -1) {\r\n          let orderAmount = +(order[nameIndex].querySelector(\".order--amount\").value);\r\n          orderAmount++;\r\n          order[nameIndex].querySelector(\".order--amount\").setAttribute(\"value\", orderAmount);\r\n          getOrdersValues(true, true, false, 0);\r\n        }\r\n        else {\r\n          createNewOrderItem();\r\n          getOrdersValues(true, true, false, 0); \r\n        }\r\n      }\r\n\r\n      function createNewOrderItem() {\r\n        const newItemHTML = \r\n        ` <a class=\"order--more-info\" href=\"${productInfo}\" data-number=\"${productNumber}\"> \r\n        <img class=\"order--img\" src=\"${productPhotoLink}\" alt=\"${productPhotoAlt}\" data-color=\"${productColor}\">\r\n        </a>\r\n        <div class=\"order--info\">\r\n        <p class=\"order--name\">${productName}</p>\r\n        <label class=\"order--label\">\r\n        Количество:\r\n        <input type=\"number\" min=\"1\" max=\"10\" class=\"order--amount\" value=\"1\">\r\n        </label>\r\n        <p class=\"order--price\">${productPrice} <span class=\"orders--currency\">грн.</span></p>\r\n        <button class=\"order--delete\">Удалить товар</button>\r\n        </div>`;\r\n        const newItem = document.createElement(\"li\");\r\n        newItem.className += \" orders--item order\";\r\n        newItem.innerHTML = newItemHTML;\r\n        ordersList.appendChild(newItem);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  // Удаление класса у корзины после окончания анимации. Два синтаксиса для разных браузеров\r\n  cart.addEventListener(\"webkitAnimationEnd\", function(event) {\r\n    cart.classList.remove(\"main-header--buy__rotate\");\r\n  });\r\n\r\n  cart.addEventListener(\"animationend\",  function(event) {\r\n    cart.classList.remove(\"main-header--buy__rotate\");\r\n  });\r\n\r\n\r\n  // Изменение числа заказов при изменении поля \"Количество\"\r\n  document.addEventListener(\"input\", function(e){\r\n    if(e.target && e.target.classList[0] == \"order--amount\"){ // e.target = this\r\n      e.target.setAttribute(\"value\", e.target.value);\r\n      getOrdersValues(true, true, false, 0);\r\n    }\r\n  });\r\n\r\n\r\n  // Открытие и закрытие корзины\r\n  orderBtnShow.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    const active = orders.querySelectorAll('[tabindex=\"-1\"]');\r\n\r\n    addAndRemoveClass([orders, orderOverlay], [\"orders__show\", \"overlay__show\"], [orders, orderOverlay, orderBtnHide], [\"orders__hide\", \"overlay__hide\", \"orders--close__rotate\"]);    \r\n    for (var i = 0; i < active.length; i++) {\r\n      active[i].setAttribute(\"tabindex\",\"1\")\r\n    }\r\n\r\n    if (window.innerWidth > smallScreen) {\r\n      promocod.focus();\r\n    }\r\n  });\r\n\r\n  orderBtnHide.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    const active = orders.querySelectorAll('[tabindex=\"1\"]');\r\n\r\n    addAndRemoveClass([orderBtnHide, orders, orderOverlay], [\"orders--close__rotate\", \"orders__hide\", \"overlay__hide\"], [orders, orderOverlay], [\"orders__show\", \"overlay__show\"]);\r\n\r\n    for (var i = 0; i < active.length; i++) {\r\n      active[i].setAttribute(\"tabindex\",\"-1\")\r\n    }\r\n  });\r\n\r\n  orderOverlay.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    const active = orders.querySelectorAll('[tabindex=\"1\"]');\r\n\r\n    addAndRemoveClass([orderBtnHide, orders, orderOverlay], [\"orders--close__rotate\", \"orders__hide\", \"overlay__hide\"], [orders, orderOverlay], [\"orders__show\", \"overlay__show\"]);\r\n    \r\n    for (var i = 0; i < active.length; i++) {\r\n      active[i].setAttribute(\"tabindex\",\"-1\")\r\n    }\r\n  });\r\n\r\n\r\n  // Введение промокода\r\n  promocod.addEventListener(\"input\", function(event) {\r\n    event.preventDefault();\r\n    let promocodsArr;\r\n\r\n    getPromocods(function(responce) {\r\n      promocodsArr = responce;\r\n      for (let i = 0; i < promocodsArr.length; i++) {\r\n        event.target.closest(\".orders--label__cod\").classList.remove(\"orders--label__descending\");\r\n        getOrdersValues(true, true, false, 0);\r\n\r\n        if (event.target.value == promocodsArr[i]) {\r\n          event.target.closest(\".orders--label__cod\").classList.add(\"orders--label__descending\");\r\n          getOrdersValues(true, true, false, 10);\r\n          break;\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n\r\n  // Открытие окна подробной информации о товаре с корзины\r\n  document.addEventListener(\"click\", function(e) {\r\n    if(e.target && e.target.classList[0] == \"order--img\"){\r\n      e.preventDefault();\r\n      const thisOrder =  e.target.closest(\".order\");\r\n      const imgSrc = e.target.getAttribute(\"src\");\r\n      const atr = e.target.closest(\".order--more-info\").getAttribute(\"href\");\r\n      const modal = document.querySelector(atr);\r\n      const overlay = modal.previousElementSibling;\r\n      const productImgSrc = new Array;\r\n      const index = [...productImgSrc].indexOf(imgSrc); // Прототипом productImgSrc является NodeList, у которого нету метода indexOf, поэтому из NodeList делается Array\r\n\r\n      addAndRemoveClass([modal, overlay], [\"modal__show\", \"overlay__show\"], [modal, overlay], [\"modal__hide\", \"overlay__hide\"]);\r\n      modal.querySelector('[tabindex=\"-1\"]').setAttribute(\"tabindex\",\"1\");\r\n\r\n      for (let i = 0; i < imgsOfProducts.length; i++) {\r\n        productImgSrc.push(imgsOfProducts[i].getAttribute(\"src\"));\r\n      }\r\n\r\n      for (let i = 0; i < imgDetails.length; i++) {\r\n       imgDetails[i].classList.remove(\"details--img__active\");\r\n     }\r\n\r\n     imgDetails[index].classList.add(\"details--img__active\");\r\n   }\r\n });\r\n\r\n  function addAndRemoveClass (elemsToAddClass, classToAdd, elemsToremoveClass, classToRemove) {\r\n    for (let i = 0; i < elemsToAddClass.length; i++) {\r\n      elemsToAddClass[i].classList.add(classToAdd[i]);\r\n    }\r\n\r\n    for (let i = 0; i < elemsToremoveClass.length; i++) {\r\n      elemsToremoveClass[i].classList.remove(classToRemove[i]);\r\n    }\r\n  }\r\n\r\n  function clearOrders(ordersEl) {\r\n    while(ordersEl.firstChild) {\r\n      ordersEl.removeChild(ordersEl.firstChild);\r\n    }\r\n  } \r\n\r\n\r\n  // Удаление товаров с корзины \r\n  document.addEventListener('click', function(e) {\r\n    if(e.target && e.target.classList[0] == \"order--delete\"){\r\n      e.preventDefault();\r\n      const thisOrder =  e.target.closest(\".order\");\r\n      const callback = function(thisOrder) {\r\n        thisOrder.parentNode.removeChild(thisOrder);\r\n        getOrdersValues(true, true, false, 0);\r\n      };\r\n\r\n      fadeOut(thisOrder, \"\", 40, callback, thisOrder);\r\n    }\r\n  });\r\n\r\n\r\n  // Проверка текущих значений количества и цен заказов в корзине и запись этих значений в нужные переменные\r\n  function getOrdersValues(amount, price, needIter, discount=0) {\r\n    const order = document.querySelectorAll(\".order\");\r\n    const amountsOfOrders = new Array; \r\n    const orderPrice = new Array;\r\n\r\n    for (let i = 0; i < order.length; i++) {\r\n      amountsOfOrders[i] = order[i].querySelector(\".order--amount\").getAttribute(\"value\");\r\n      orderPrice[i] = order[i].querySelector(\".order--price\").innerHTML.replace(/\\D+/g,\"\");\r\n    }\r\n\r\n    if (amount && price) {\r\n      let amountSumm = 0;\r\n      let priceSumm = 0;\r\n\r\n      for (let i = 0; i < amountsOfOrders.length; i++) {\r\n        amountSumm += +amountsOfOrders[i];\r\n      }\r\n\r\n      if (needIter) {\r\n        amountSumm++;\r\n      }\r\n\r\n      setTimeout(function() {\r\n        ordersAmount.innerHTML = amountSumm.toString();\r\n      }, 500)\r\n      \r\n      for (let i = 0; i < orderPrice.length; i++) {\r\n        priceSumm += orderPrice[i] * amountsOfOrders[i];\r\n      }\r\n\r\n      orderPriceSumm.innerHTML = (priceSumm - (priceSumm / 100 * discount)).toString();\r\n    }\r\n  };\r\n\r\n\r\n  // Действия при отправке формы (дополнительная валидация данных, отправка данных на сервер, вывод модального окна)\r\n  ordersForm.addEventListener(\"submit\", function(event) {\r\n    event.preventDefault();\r\n    if(!ordersList.querySelector(\".orders--item\")) {\r\n      ordersEmpty.hidden = false;\r\n      return false;\r\n    }\r\n    formValid(sendData);\r\n  });\r\n\r\n  // Действия при закрытии модального окна \"Спасибо за заказ\"\r\n  thanksModalCloseBtn.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    clearOrders(ordersList);\r\n    ordersForm.reset();\r\n    orderPriceSumm.innerHTML = \"0\";\r\n    ordersAmount.innerHTML = \"0\";\r\n    promoLabel.classList.remove(\"orders--label__descending\");\r\n  });\r\n\r\n  thanksModalOverlay.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    clearOrders(ordersList);\r\n    ordersForm.reset();\r\n    orderPriceSumm.innerHTML = \"0\";\r\n    ordersAmount.innerHTML = \"0\";\r\n    promoLabel.classList.remove(\"orders--label__descending\");\r\n  });\r\n\r\n\r\n  // Скрытие надписи об ошибке, при начале заполнения формы\r\n  for (let i = 0; i < ordersInput.length; i++) {\r\n    ordersInput[i].addEventListener(\"input\", function(event) {\r\n      event.preventDefault();\r\n      ordersError.hidden = true;\r\n    });\r\n  }\r\n\r\n\r\n  function formValid(callback) {\r\n    for (let i = 0; i < ordersInput.length; i++) {\r\n      if(!ordersInput[i].value) {\r\n        ordersError.hidden = false;\r\n      }\r\n    }\r\n\r\n    if (!name.value.match(/^[а-яФА-Я]+$/)) {\r\n      ordersError.hidden = false;\r\n    }\r\n\r\n    if (!surname.value.match(/^[а-яФА-Я]+$/)) {\r\n      ordersError.hidden = false;\r\n    }\r\n\r\n    if (!phone.value.match(/^\\+380 \\([0-9]{2}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}$/)) {\r\n      ordersError.hidden = false;\r\n    }\r\n\r\n    else callback();\r\n  }\r\n\r\n\r\n  function sendData() {\r\n    const orders = document.querySelectorAll(\".orders--item\");\r\n    const request = new XMLHttpRequest();\r\n    let ordersInfo = new Array;\r\n\r\n    for (let i = 0; i < orders.length; i++) {\r\n      ordersInfo.push({\r\n        \"name\" : orders[i].querySelector(\".order--name\").innerHTML,\r\n        \"amount\" : orders[i].querySelector(\".order--amount\").value,\r\n        \"price\" : orders[i].querySelector(\".order--price\").innerHTML.replace(/\\D+/g,\"\"),\r\n        \"number\" : orders[i].querySelector(\"[data-number]\").getAttribute(\"data-number\"),\r\n        \"color\" : orders[i].querySelector(\"[data-color]\").getAttribute(\"data-color\")\r\n      });\r\n    }\r\n\r\n    let data = JSON.stringify({\r\n      \"name\" : name.value.toString(),\r\n      \"surname\" : surname.value.toString(), \r\n      \"phone\" : phone.value.toString(),\r\n      \"order\" : ordersInfo,\r\n      \"promocod\" : promocod.value.toString(),\r\n      \"promocod-descending\" : promoLabel.classList.contains(\"orders--label__descending\"),\r\n      \"summ\" : orderPriceSumm.innerHTML\r\n    });\r\n\r\n    request.open(\"POST\", \"../php/form.php\");\r\n    request.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\r\n    request.onreadystatechange = function() {\r\n      document.body.classList.add(\"wait\");\r\n      if (request.readyState == \"4\" && request.status == 200 && request.responseText == \"1\") {\r\n        document.body.classList.remove(\"wait\");\r\n        addAndRemoveClass([thanksModal, thanksModalOverlay], [\"modal__show\", \"overlay__show\"], [thanksModal, thanksModalOverlay], [\"modal__hide\", \"overlay__hide\"]);\r\n        thanksModal.querySelector('[tabindex=\"-1\"]').setAttribute(\"tabindex\",\"1\");\r\n      }\r\n      else if(request.readyState == \"4\" && request.status == 200 && request.responseText !== \"1\") {\r\n        document.body.classList.remove(\"wait\");\r\n        switch(request.responseText) {\r\n          case \"err_1\":\r\n          ordersError.innerHTML = \"Заполните все поля формы\";\r\n          ordersError.hidden = false;\r\n          break;\r\n          case \"err_2_1\":\r\n          ordersError.innerHTML = \"Имя некоректно, исправьте ошибку\";\r\n          ordersError.hidden = false;\r\n          break;\r\n          case \"err_2_2\":\r\n          ordersError.innerHTML = \"Фамилия некоректна, исправьте ошибку\";\r\n          ordersError.hidden = false;\r\n          break;\r\n          case \"err_2_3\":\r\n          ordersError.innerHTML = \"Номер телефона некоректен, исправьте ошибку\";\r\n          ordersError.hidden = false;\r\n          break;\r\n        }\r\n      }\r\n      else if (request.readyState == \"4\" || request.status !== 200) {\r\n        document.body.classList.remove(\"wait\");\r\n        ordersError.innerHTML = \"Ошибка отправки данных, повторите попытку позже\";\r\n        ordersError.hidden = false;\r\n      }\r\n    }\r\n    request.send(data);\r\n  }\r\n\r\n\r\n  function getPromocods(callback) {\r\n    const request = new XMLHttpRequest();\r\n    var respArr = new Array;\r\n\r\n    request.open(\"POST\", \"../php/promocods.php\");\r\n    request.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\r\n    request.onreadystatechange = function() {\r\n\r\n      if (request.readyState == \"4\" && request.status == 200) {\r\n        respArr = request.responseText.replace(/\\n/ig, '').split(\",\");\r\n        callback(respArr);\r\n      }\r\n      else if (request.readyState == \"4\" && request.status !== 200) {\r\n        return false;\r\n      }\r\n    }\r\n    request.send();\r\n  }\r\n};\r\n\r\n"]}